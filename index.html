<!DOCTYPE html>
<html lang="en"> <!--Started 30 May-->
<head>
<title>
</title>
<meta charset="UFT-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
</head>
<style>
    .TileDiv{        
        width: 600px;
        display: flex;
        flex-wrap: wrap;
    }
    .tile{
        height: 38px;
        width: 38px;
        border: solid 1px darkblue;
        background-color: aqua;
    }
    .green{
        background-color: green;
    }
    .yellow{
        background-color: yellow;
    }
    .player{
        background-color: red;
    }

</style>
<body>
    <h1>Space Invaders</h1>
    <div id="TestDisplay"></div>
    <div id="Tiles" class="TileDiv"></div>
    <button onclick="stopEnemy()">Attack</button>
    <div id="Remaining"></div>
</body>
<script>
let text = new String;
text = "hello" + "<br>" + "world";
document.getElementById("TestDisplay").innerHTML = text;
let tiles = document.getElementById("Tiles");
for (let i=0;i<180;i++){
    let tile = document.createElement('div');
    tile.classList.add('tile')
    tile.id = i;
    tiles.append(tile);        
}
let moveArray = [];
for(let j=0;j<10;j++){
    let b = j*15;
    for(let i=0;i<15;i++){
        if (j%2){
            let a = 14-i;
            a += b;
            moveArray.push(a);    
        }
        else{
            let a = i + b;
            moveArray.push(a);
        }
    }
}
//console.log(moveArray);

/*
new Variables
Lives = 3;
GameOver = false;
RandTime = [];
FirePath = [];
AlienFirePath = [];

*/

let alienRow1 = [13,11,9,7,5,3,1];
let alienRow2 = [];
for(let i=0;i<7;i++){
    let a = alienRow1[i];
    let b = a + 45;
    alienRow2.push(b);
}
let alienPos = alienRow2.concat(alienRow1);
let ships = 14;
//console.log(alienPos);
let alive = []
let bunkers = [151,152,155,156,159,160,163,164];

for(let i=0;i<alienPos.length;i++){
    let a = alienPos[i];
    let b = moveArray[a];
    document.getElementById(`${b}`).classList.add("yellow");
    alive.push(1);
}
//console.log(alive);

let playerPos = 165;

document.getElementById(`${playerPos}`).classList.add("player");

document.getElementById("Remaining").innerHTML = ships;


    for(let i=0;i<bunkers.length;i++){
        let a = bunkers[i];
        document.getElementById(`${a}`).classList.add("green");
    }    


setTimeout(
    function initial() {
        for(let i=0;i<alienPos.length;i++){
            let a = alienPos[i];
            let p = moveArray[a];
            document.getElementById(`${p}`).classList.remove("yellow");
        }
    },1000);

function aliensMov(){}
let alienMove = setInterval(
    function aMove(){             
        for(let i=0;i<ships;i++){
            let num = alienPos[i];
            let a = moveArray[num];
            let p = num-1;
            let prev = moveArray[p];
            document.getElementById(`${prev}`).classList.remove("yellow");
            document.getElementById(`${a}`).classList.add("yellow");
            alienPos[i] += 1;
        }       
        
        if(alienPos[0]>149){
        clearInterval(alienMove);
        }      
    },1000);

function stopEnemy2(){ // needs fixing, remove 2 when done
    clearInterval(alienMove);
    let a = moveArray[(alienPos[0]-1)];
    if(a<0){
        a = alienPos;
    }    
    document.getElementById(`${a}`).style.backgroundColor = "red";
    alienPos[0] = 0;
}
</script>
</html>